<%- include('../_partials/header'); %>

<link rel="stylesheet" href="/stylesheets/learn.css" />

<!-- Slideshow container -->
<div class="slideshow-container">

    <!-- Full-width images with number and caption text -->
    <div class="mySlides">
        <div class="numbertext">1 / 5</div>
        <div class="card-body" style="text-align: center;">
            <h4><I><%= resultset[0]['word'] %> </I></h4>
            <div class="col d-flex justify-content-center">
                <div class="card" style="width: 25rem; text-align: center;">
                    <img class="card-img-top" src=<%= resultset[0]['image'] %> alt="Card image cap">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="card-title mb-0"><%= resultset[0]['translatedWord'] %></h5>
                                <audio id="word_audio_0" style="width: 25rem; text-align: center;">
                                    <source
                                        src="/audio/<%= resultset[0]['translatedWord']%>/1/<%= resultset[0]['target']%>"
                                        type="audio/mpeg">

                                    <!-- <source src="/audio/word/1/English" type="audio/mpeg"> -->
                                    Your browser does not support the audio element.
                                </audio>
                                <button onclick="togglePlay('word_audio_0')" type="button"><i
                                        class='fas fa-volume-up'></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <hr>
            <h4> Usage</h4>
            <div>
                <audio id="sentence_audio_0" style="width: 25rem; text-align: center;">
                    <source
                        src="/audio/<%= resultset[0]['translatedSentence'] %>/1/<%= resultset[0]['target']%>"
                        type="audio/mpeg">

                    Your browser does not support the audio element.
                </audio>
                <span><%= resultset[0]['translatedSentence'] %> <button onclick="togglePlay('sentence_audio_0')"
                        type="button"><i class='fas fa-volume-up'></i></button></span>
            </div>
            <!-- <br> -->
            <div></div>
            <span><%= resultset[0]['sentence'] %> </span>
        </div>
    </div>

    <div class="mySlides">
        <div class="numbertext">2 / 5</div>
        <div class="card-body" style="text-align: center;">
            <h4><I><%= resultset[1]['word'] %> </I></h4>
            <div class="col d-flex justify-content-center">
                <div class="card" style="width: 25rem; text-align: center;">
                    <img class="card-img-top" src=<%= resultset[1]['image'] %> alt="Card image cap">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="card-title mb-0"><%= resultset[1]['translatedWord'] %></h5>
                                <audio id="word_audio_1" style="width: 25rem; text-align: center;">
                                    <source
                                        src="/audio/<%= resultset[1]['translatedWord']%>/1/<%= resultset[1]['target']%>"
                                        type="audio/mpeg">

                                    <!-- <source src="/audio/word/1/English" type="audio/mpeg"> -->
                                    Your browser does not support the audio element.
                                </audio>
                                <button onclick="togglePlay('word_audio_1')" type="button"><i
                                        class='fas fa-volume-up'></i></button>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <h4> Usage</h4>
            <div>
                <audio id="sentence_audio_1" style="width: 25rem; text-align: center;">
                    <source
                        src="/audio/<%= resultset[1]['translatedSentence'] %>/1/<%= resultset[1]['target']%>"
                        type="audio/mpeg">

                    Your browser does not support the audio element.
                </audio>
                <span><%= resultset[1]['translatedSentence'] %> <button onclick="togglePlay('sentence_audio_1')"
                        type="button"><i class='fas fa-volume-up'></i></button></span>
            </div>
            <div></div>
            <span><%= resultset[1]['sentence'] %> </span>
        </div>
    </div>

    <div class="mySlides">
        <div class="numbertext">3 / 5</div>
        <div class="card-body" style="text-align: center;">
            <h4><I><%= resultset[2]['word'] %> </I></h4>
            <div class="col d-flex justify-content-center">
                <div class="card" style="width: 25rem; text-align: center;">
                    <img class="card-img-top" src=<%= resultset[2]['image'] %> alt="Card image cap">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="card-title mb-0"><%= resultset[2]['translatedWord'] %></h5>
                                <audio id="word_audio_2" style="width: 25rem; text-align: center;">
                                    <source
                                        src="/audio/<%= resultset[2]['translatedWord']%>/1/<%= resultset[2]['target']%>"
                                        type="audio/mpeg">

                                    <!-- <source src="/audio/word/1/English" type="audio/mpeg"> -->
                                    Your browser does not support the audio element.
                                </audio>
                                <button onclick="togglePlay('word_audio_2')" type="button"><i
                                        class='fas fa-volume-up'></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <hr>
            <h4> Usage</h4>
            <div>
                <audio id="sentence_audio_2" style="width: 25rem; text-align: center;">
                    <source
                        src="/audio/<%= resultset[2]['translatedSentence'] %>/1/<%= resultset[2]['target']%>"
                        type="audio/mpeg">

                    Your browser does not support the audio element.
                </audio>
                <span><%= resultset[2]['translatedSentence'] %> <button onclick="togglePlay('sentence_audio_2')"
                        type="button"><i class='fas fa-volume-up'></i></button></span>
            </div>
            <!-- <br> -->
            <div></div>
            <span><%= resultset[2]['sentence'] %> </span>
        </div>
    </div>

    <div class="mySlides">
        <div class="numbertext">4 / 5</div>
        <div class="card-body" style="text-align: center;">
            <h4><I><%= resultset[3]['word'] %> </I></h4>
            <div class="col d-flex justify-content-center">
                <div class="card" style="width: 25rem; text-align: center;">
                    <img class="card-img-top" src=<%= resultset[3]['image'] %> alt="Card image cap">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="card-title mb-0"><%= resultset[3]['translatedWord'] %></h5>
                                <audio id="word_audio_3" style="width: 25rem; text-align: center;">
                                    <source
                                        src="/audio/<%= resultset[3]['translatedWord']%>/1/<%= resultset[3]['target']%>"
                                        type="audio/mpeg">

                                    <!-- <source src="/audio/word/1/English" type="audio/mpeg"> -->
                                    Your browser does not support the audio element.
                                </audio>
                                <button onclick="togglePlay('word_audio_3')" type="button"><i
                                        class='fas fa-volume-up'></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <hr>
            <h4> Usage</h4>
            <div>
                <audio id="sentence_audio_3" style="width: 25rem; text-align: center;">
                    <source
                        src="/audio/<%= resultset[3]['translatedSentence'] %>/1/<%= resultset[3]['target']%>"
                        type="audio/mpeg">

                    Your browser does not support the audio element.
                </audio>
                <span><%= resultset[3]['translatedSentence'] %> <button onclick="togglePlay('sentence_audio_3')"
                        type="button"><i class='fas fa-volume-up'></i></button></span>
            </div>
            <!-- <br> -->
            <div></div>
            <span><%= resultset[3]['sentence'] %> </span>
        </div>
    </div>
    <div class="mySlides">
        <div class="numbertext">5 / 5</div>
        <div class="card-body" style="text-align: center;">
            <h4><I><%= resultset[4]['word'] %> </I></h4>
            <div class="col d-flex justify-content-center">
                <div class="card" style="width: 25rem; text-align: center;">
                    <img class="card-img-top" src=<%= resultset[4]['image'] %> alt="Card image cap">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="card-title mb-0"><%= resultset[4]['translatedWord'] %></h5>
                                <audio id="word_audio_4" style="width: 25rem; text-align: center;">
                                    <source
                                        src="/audio/<%= resultset[4]['translatedWord']%>/1/<%= resultset[4]['target']%>"
                                        type="audio/mpeg">

                                    <!-- <source src="/audio/word/1/English" type="audio/mpeg"> -->
                                    Your browser does not support the audio element.
                                </audio>
                                <button onclick="togglePlay('word_audio_4')" type="button"><i
                                        class='fas fa-volume-up'></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <hr>
            <h4> Usage</h4>
            <div>
                <audio id="sentence_audio_4" style="width: 25rem; text-align: center;">
                    <source
                        src="/audio/<%= resultset[4]['translatedSentence'] %>/1/<%= resultset[4]['target']%>"
                        type="audio/mpeg">

                    Your browser does not support the audio element.
                </audio>
                <span><%= resultset[4]['translatedSentence'] %> <button onclick="togglePlay('sentence_audio_4')"
                        type="button"><i class='fas fa-volume-up'></i></button></span>
            </div>
            <!-- <br> -->
            <div></div>
            <span><%= resultset[4]['sentence'] %> </span>
        </div>
    </div>
    <!-- Next and previous buttons -->
    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>

    <!-- The dots/circles -->
    <div style="text-align:center">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
            <span class="dot" onclick="currentSlide(4)"></span>
            <span class="dot" onclick="currentSlide(5)"></span>
    </div>

<!-- <br> -->
<div class="evalButton">
    <button type="button" class="btn btn-secondary btn-lg pull-right" id="evaluate"
        onclick="navtoeval()">Eval Me!</button>
</div>
<!-- <div class="prevButton" >
    <button type="button" style="width:350px;" class="btn btn-secondary btn-lg pull-right" id="right-panel-link">Eval Me!</button>
</div> -->


<script>
    function get_speechUrl(text, target) {
        return '/audio/' + text.replace(/ /g, '_') + '/' + target;
    }

    var slideIndex = 1;
    showSlides(slideIndex);
    // Next/previous controls
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }
    // Thumbnail image controls
    function currentSlide(n) {
        showSlides(slideIndex = n);
    }
    function showSlides(n) {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        var dots = document.getElementsByClassName("dot");
        if (n > slides.length) { slideIndex = 1 }

        if (n < 1) { slideIndex = slides.length }
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
    }


    function togglePlay(id) {
        $('#' + id).trigger('play')
        // return id.paused ? id.play() : id.pause();
    }
    current = 0;

    function navtoeval() {
        url = document.URL.toString();
        eval_url = url.replace("learn", "eval")
        window.location = eval_url;
    }

//    window.location = "www.example.com/index.php?id=" + this.id;

</script>
<%- include('../_partials/footer'); %>