<%- include('../_partials/header'); %>

<link rel="stylesheet" href="/stylesheets/learn.css" />

 <!-- Slideshow container -->
<div class="slideshow-container">

        <!-- Full-width images with number and caption text -->
        <div class="mySlides">
          <div class="numbertext">1 / 5</div>
          <img src=<%= resultset[0]['image'] %> style="width:50%">
          
          <div class="card-body"> 
                <div class="word"> <h4> <%= resultset[0]['word'] %> </h4></div>
                <div class="sentence"><h4> <%= resultset[0]['sentence'] %> </h4></div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="card-title mb-0"><%= resultset[0]['translatedWord'] %></h4>
                    <audio id="word_audio" style="width: 25rem; text-align: center;">
                        <source src="http://localhost:8080/audio/<%= resultset[0]['translatedWord']%>/1/<%= resultset[0]['target']%>"  type="audio/mpeg">
                        
                        <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                        Your browser does not support the audio element.
                    </audio>
                    <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="card-title mb-0"><%= resultset[0]['translatedSentence'] %></h4>
                    <audio id="word_audio" style="width: 25rem; text-align: center;">
                        <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                        <source src="http://localhost:8080/audio/<%= resultset[0]['translatedSentence'] %>/1/<%= resultset[0]['target']%>" type="audio/mpeg">

                        Your browser does not support the audio element.
                    </audio>
                    <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                </div>
            </div> 
        </div>
      
        <div class="mySlides">
          <div class="numbertext">2 / 5</div>
          <img src=<%= resultset[1]['image'] %> style="width:50%">
          <div class="card-body"> 
                <div class="word"> <h4> <%= resultset[1]['word'] %></h4></div>
                <div class="sentence"><h4> <%= resultset[1]['sentence'] %> </h4></div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="card-title mb-0"><%= resultset[1]['translatedWord'] %></h4>
                    <audio id="word_audio" style="width: 25rem; text-align: center;">
                        <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                        <source src="http://localhost:8080/audio/<%= resultset[1]['translatedWord'] %>/1/<%= resultset[2]['target']%>" type="audio/mpeg">

                        Your browser does not support the audio element.
                    </audio>
                    <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="card-title mb-0"><%= resultset[1]['translatedSentence'] %></h4>
                    <audio id="word_audio" style="width: 25rem; text-align: center;">
                        <source src="http://localhost:8080/audio/<%= resultset[1]['translatedSentence'] %>/1/<%= resultset[2]['target']%>" type="audio/mpeg">
                        <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->

                        Your browser does not support the audio element.
                    </audio>
                    <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                </div>
            </div>

        </div>
      
        <div class="mySlides">
          <div class="numbertext">3 / 5</div>
          <img src=<%= resultset[2]['image'] %> style="width:50%">
          <div class="card-body"> 
                <div class="word"> <h4> <%= resultset[2]['word'] %> </h4></div>
                <div class="sentence"><h4> <%= resultset[2]['sentence'] %> </h4></div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="card-title mb-0"><%= resultset[2]['translatedWord'] %></h4>
                    <audio id="word_audio" style="width: 25rem; text-align: center;">
                        <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                        <source src="http://localhost:8080/audio/<%= resultset[2]['translatedWord'] %>/1/<%= resultset[2]['target']%>" type="audio/mpeg">

                        Your browser does not support the audio element.
                    </audio>
                    <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="card-title mb-0"><%= resultset[0]['translatedSentence'] %></h4>
                    <audio id="word_audio" style="width: 25rem; text-align: center;">
                        <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                        <source src="http://localhost:8080/audio/<%= resultset[2]['translatedSentence'] %>/1/<%= resultset[2]['target']%>" type="audio/mpeg">

                        Your browser does not support the audio element.
                    </audio>
                    <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                </div>
            </div>

        </div>

        <div class="mySlides">
            <div class="numbertext">4 / 5</div>
            <img src=<%= resultset[3]['image'] %> style="width:50%">
            <div class="card-body"> 
                    <div class="word"> <h4> <%= resultset[3]['word'] %> </h4></div>
                    <div class="sentence"><h4> <%= resultset[3]['sentence'] %> </h4></div>
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="card-title mb-0"><%= resultset[3]['translatedWord'] %></h4>
                        <audio id="word_audio" style="width: 25rem; text-align: center;">
                            <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                            <source src="http://localhost:8080/audio/<%= resultset[3]['translatedWord'] %>/1/<%= resultset[3]['target']%>" type="audio/mpeg">
    
                            Your browser does not support the audio element.
                        </audio>
                        <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="card-title mb-0"><%= resultset[3]['translatedSentence'] %></h4>
                        <audio id="word_audio" style="width: 25rem; text-align: center;">
                            <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                            <source src="http://localhost:8080/audio/<%= resultset[3]['translatedSentence'] %>/1/<%= resultset[3]['target']%>" type="audio/mpeg">

                            Your browser does not support the audio element.
                        </audio>
                        <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                    </div>
                </div>
        </div>

        <div class="mySlides">
            <div class="numbertext">5 / 5</div>
            <img src=<%= resultset[4]['image'] %> style="width:50%">
            <div class="card-body"> 
                    <div class="word"> <h4> <%= resultset[4]['word'] %> </h4></div>
                    <div class="sentence"><h4> <%= resultset[4]['sentence'] %> </h4></div>
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="card-title mb-0"><%= resultset[4]['translatedWord'] %></h4>
                        <audio id="word_audio" style="width: 25rem; text-align: center;">
                            <!-- <source src=get_speechUrl(<%= resultset[4]['translatedWord'] %>, 'word') type="audio/mpeg"> -->
                            <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                            <source src="http://localhost:8080/audio/word/<%= resultset[4]['translatedWord'] %>/<%= resultset[4]['target']%>" type="audio/mpeg">

                            Your browser does not support the audio element.
                        </audio>
                        <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="card-title mb-0"><%= resultset[4]['translatedSentence'] %></h4>
                        <audio id="word_audio" style="width: 25rem; text-align: center;">
                            
                            <!-- <source src="http://localhost:8080/audio/word/1/English" type="audio/mpeg"> -->
                            <source src="http://localhost:8080/audio/<%= resultset[4]['translatedSentence'] %>/1/<%= resultset[4]['target']%>" type="audio/mpeg">

                            Your browser does not support the audio element.
                        </audio>
                        <button onclick="togglePlay(word_audio)" type="button"><i class='fas fa-volume-up'></i></button>
                    </div>
                </div>
        </div>
      
        <!-- Next and previous buttons -->
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>



<br>
      
<!-- The dots/circles -->
<div style="text-align:center">
    <span class="dot" onclick="currentSlide(1)"></span>
    <span class="dot" onclick="currentSlide(2)"></span>
    <span class="dot" onclick="currentSlide(3)"></span>
    <span class="dot" onclick="currentSlide(4)"></span>
    <span class="dot" onclick="currentSlide(5)"></span>
</div>

<div class="evalButton" >
    <button type="button" style="width:350px;" class="btn btn-secondary btn-lg pull-right" id="right-panel-link">Eval Me!</button>
</div>
<!-- <div class="prevButton" >
    <button type="button" style="width:350px;" class="btn btn-secondary btn-lg pull-right" id="right-panel-link">Eval Me!</button>
</div> -->
 

    <script> 
    function get_speechUrl(text, target){
        return 'http://localhost:8080/audio/'+ text.replace(/ /g, '_')+'/'+target;
    }

    var slideIndex = 1;
    showSlides(slideIndex);
    // Next/previous controls
    function plusSlides(n) {
    showSlides(slideIndex += n);
    }
    // Thumbnail image controls
    function currentSlide(n) {
    showSlides(slideIndex = n);
    }
    function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("dot");
    if (n > slides.length) {slideIndex = 1}
    
    if (n < 1) {slideIndex = slides.length}
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex-1].style.display = "block";
    dots[slideIndex-1].className += " active";
    }


    function togglePlay(id) { 
        //id.play(); 
        return id.paused ? id.play() : id.pause();
    }
    current = 0;
    
    
    </script>
<%- include('../_partials/footer'); %>
